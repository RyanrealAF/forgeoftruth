import json

def main():
    individual_vulnerabilities = [
        {
            "factor": "Personal Trauma",
            "manifestation": "Emotional dysregulation",
            "pathway": "Exploitation of unmet needs",
            "counter_protocol": "Trauma-informed resistance"
        },
        {
            "factor": "Economic Stress",
            "manifestation": "Cognitive overload",
            "pathway": "Simplistic solution offerings",
            "counter_protocol": "Critical thinking inoculation"
        },
        {
            "factor": "Social Isolation",
            "manifestation": "Need for belonging",
            "pathway": "Love bombing, echo chambers",
            "counter_protocol": "Community resilience building"
        }
    ]

    institutional_vulnerabilities = [
        {
            "institution": "Law Enforcement",
            "bias_type": "Confirmation bias",
            "vector": "Anonymous tip weaponization",
            "safeguard": "Multi-layer verification"
        },
        {
            "institution": "Schools",
            "bias_type": "Implicit bias",
            "vector": "Vague accusation exploitation",
            "safeguard": "Standardized criteria"
        },
        {
            "institution": "Workplaces",
            "bias_type": "Retaliation culture",
            "vector": "Weaponized compliance",
            "safeguard": "Independent review"
        }
    ]

    matrices = {
        "individual": individual_vulnerabilities,
        "institutional": institutional_vulnerabilities
    }

    with open('output/vulnerability_matrices.json', 'w', encoding='utf8') as f:
        json.dump(matrices, f, indent=2)

    print("Generated vulnerability matrices to output/vulnerability_matrices.json")

if __name__ == "__main__":
    main()
